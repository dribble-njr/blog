import{_ as a,c as s,e,o as t}from"./app-x8ymDRL-.js";const p={};function o(c,n){return t(),s("div",null,n[0]||(n[0]=[e(`<p>WebSocket 是 HTML5 一种协议，是在 http 协议上实现了 socket 协议的长链接，只需要客户端和服务端建立一次连接，就可以互相传送数据。</p><p>主要应用在网页即时通讯和服务端消息推送中，使客户端和服务端之间的交互变得更加简单。</p><p>http 协议是客户端请求，服务端响应，而 socket 协议可以使服务端主动向客户端发送消息。</p><h2 id="传统-ajax-对比" tabindex="-1"><a class="header-anchor" href="#传统-ajax-对比"><span>传统 ajax 对比</span></a></h2><p>ajax 轮询，如果同时请求认输更多会出现高并发情况，</p><p>客户端可以让客户端和服务端链接，这个链接不会诶关闭，无序平凡建立同搭配，减小服务器压力</p><h2 id="_2-主要应用场景和工作原理" tabindex="-1"><a class="header-anchor" href="#_2-主要应用场景和工作原理"><span>2. 主要应用场景和工作原理</span></a></h2><h2 id="_3-相关-api-介绍" tabindex="-1"><a class="header-anchor" href="#_3-相关-api-介绍"><span>3. 相关 API 介绍</span></a></h2><p>创建ws对象， var ws = new WebSocket(url)</p><p>监听链接通道（事件）ws.onopen=function() {}</p><p>监听服务端消息</p><p>发送消息</p><p>监听通道关闭</p><h2 id="_4-案例" tabindex="-1"><a class="header-anchor" href="#_4-案例"><span>4.案例</span></a></h2><p>客户端使用开发socket</p><p>后端使用php</p><p>服务端启动方式</p><p>监听接口</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;WebSocket&quot;</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 船舰是对象</span>
  <span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocetker</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// 2.监听链接通道</span>
  ws<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\\
  	<span class="token literal-property property">log</span> <span class="token operator">:</span> jianlichenggong 
    <span class="token comment">// 3.发送消息</span>
    ws<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;mes=sss&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
                          ws<span class="token punctuation">.</span>onmessage <span class="token operator">=</span><span class="token function">functin</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            
                          <span class="token punctuation">}</span>
  ws<span class="token punctuation">.</span><span class="token function-variable function">onclose</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">log</span><span class="token operator">:</span>tongdao guanbil
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;shibai &#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19)]))}const l=a(p,[["render",o],["__file","0007、WebSocket.html.vue"]]),r=JSON.parse('{"path":"/frontend/basic/html/0007%E3%80%81WebSocket.html","title":"WebSocket","lang":"zh-CN","frontmatter":{"title":"WebSocket","date":"2022-07-25T00:00:00.000Z","publish":false,"category":["HTML"],"tag":["HTML5"],"description":"WebSocket 是 HTML5 一种协议，是在 http 协议上实现了 socket 协议的长链接，只需要客户端和服务端建立一次连接，就可以互相传送数据。 主要应用在网页即时通讯和服务端消息推送中，使客户端和服务端之间的交互变得更加简单。 http 协议是客户端请求，服务端响应，而 socket 协议可以使服务端主动向客户端发送消息。 传统 aja...","head":[["meta",{"property":"og:url","content":"https://dribble-njr.github.io/blog/blog/frontend/basic/html/0007%E3%80%81WebSocket.html"}],["meta",{"property":"og:title","content":"WebSocket"}],["meta",{"property":"og:description","content":"WebSocket 是 HTML5 一种协议，是在 http 协议上实现了 socket 协议的长链接，只需要客户端和服务端建立一次连接，就可以互相传送数据。 主要应用在网页即时通讯和服务端消息推送中，使客户端和服务端之间的交互变得更加简单。 http 协议是客户端请求，服务端响应，而 socket 协议可以使服务端主动向客户端发送消息。 传统 aja..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-06T15:43:46.000Z"}],["meta",{"property":"article:author","content":"njr"}],["meta",{"property":"article:tag","content":"HTML5"}],["meta",{"property":"article:published_time","content":"2022-07-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-06T15:43:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"WebSocket\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-07-25T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-06T15:43:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"njr\\",\\"url\\":\\"https://github.com/dribble-njr/blog\\",\\"email\\":\\"wzw15292257101@163.com\\"}]}"]]},"headers":[{"level":2,"title":"1 传统 ajax 对比","slug":"传统-ajax-对比","link":"#传统-ajax-对比","children":[]},{"level":2,"title":"2 2. 主要应用场景和工作原理","slug":"_2-主要应用场景和工作原理","link":"#_2-主要应用场景和工作原理","children":[]},{"level":2,"title":"3 3. 相关 API 介绍","slug":"_3-相关-api-介绍","link":"#_3-相关-api-介绍","children":[]},{"level":2,"title":"4 4.案例","slug":"_4-案例","link":"#_4-案例","children":[]}],"git":{"createdTime":1677733227000,"updatedTime":1730907826000,"contributors":[{"name":"dribble-njr","email":"wzw15292257101@163.com","commits":2},{"name":"Stephen-wzw","email":"wzw15292257101@163.com","commits":1}]},"readingTime":{"minutes":1.1,"words":329},"filePathRelative":"frontend/basic/html/0007、WebSocket.md","localizedDate":"2022年7月25日","excerpt":"","autoDesc":true}');export{l as comp,r as data};
