import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o,c as p,a as s,b as n,e as c,f as i}from"./app-BZ9OyOlS.js";const r={},l={href:"https://github.com/Stephen-wzw/webpack-demo",target:"_blank",rel:"noopener noreferrer"},d=i(`<p>在开发中会有各种各样的模块，这些文件可能自己编写，也可能来自第三方库。<code>resolve</code> 选项能设置模块如何被解析。webpack 会提供合理的默认值，但是还是可能会修改一些解析的细节。</p><h2 id="webpack-解析规则" tabindex="-1"><a class="header-anchor" href="#webpack-解析规则" aria-hidden="true">#</a> webpack 解析规则</h2><h3 id="绝对路径" tabindex="-1"><a class="header-anchor" href="#绝对路径" aria-hidden="true">#</a> 绝对路径</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;/home/me/file&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&#39;C:\\\\Users\\\\me\\\\file&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于以及获得文件的绝对路径，因此不需要再做进一步解析。</p><h3 id="相对路径" tabindex="-1"><a class="header-anchor" href="#相对路径" aria-hidden="true">#</a> 相对路径</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;../src/file1&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./file2&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在这种情况下，使用 <code>import</code> 或 <code>require</code> 的资源文件所处的目录，被认为是上下文目录。在 <code>import/require</code> 中给定的相对路径，会拼接此上下文路径，来生成模块的绝对路径。</p><h3 id="模块路径" tabindex="-1"><a class="header-anchor" href="#模块路径" aria-hidden="true">#</a> 模块路径</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;module/lib/file&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>模块会在 resolve.modules 中指定检索模块，默认值为 [&#39;node_modules]，所以默认是从 <code>node_modules</code> 下查找文件。</p><h3 id="确定文件还是文件夹" tabindex="-1"><a class="header-anchor" href="#确定文件还是文件夹" aria-hidden="true">#</a> 确定文件还是文件夹</h3><p>一旦根据上述规则解析路径后，resolver 将会检查路径是指向文件还是文件夹。如果路径指向文件：</p><ul><li>如果文件具有扩展名，则直接将文件打包。</li><li>否则，将使用 <code>resolve.extensions</code> 选项作为文件扩展名来解析，此选项会告诉解析器在解析中能够接受那些扩展名（例如 .js，.jsx）。</li></ul><p>如果路径指向一个文件夹，则进行如下步骤寻找具有正确扩展名的文件：</p><ul><li>根据 <code>resolve.mainFields</code> 配置中的字段顺序查找，默认值是 <code>[&#39;index&#39;]</code>；</li><li>然后使用 <code>resolve.extensions</code> 选项，以类似的方式解析文件扩展名。</li></ul><h2 id="extensions-和-alias-配置" tabindex="-1"><a class="header-anchor" href="#extensions-和-alias-配置" aria-hidden="true">#</a> <code>extensions</code> 和 <code>alias</code> 配置</h2><p><code>extensions</code> 选项可以在解析到文件时自动添加扩展名。默认值为 <code>[&#39;.wasm&#39;, &#39;.mjs&#39;, &#39;.js&#39;, &#39;.json&#39;]</code>。</p><p><code>alias</code> 可以为路径配置别名，当项目结构比较深时，一个文件的路径可能加上 <code>../../../</code> 这种路径片段。就可以给常见的路径配置别名了。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.wasm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.mjs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;js&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./src/js&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20);function u(k,v){const a=t("ExternalLinkIcon");return o(),p("div",null,[s("blockquote",null,[s("p",null,[n("项目地址："),s("a",l,[n("https://github.com/Stephen-wzw/webpack-demo"),c(a)])])]),d])}const b=e(r,[["render",u],["__file","008-webpack-resolve.html.vue"]]);export{b as default};
